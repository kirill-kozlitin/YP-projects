# Тема 2: Исследовательский анализ
## Анализ рынка недвижимости

**Стек:** python / pandas / matplotlib / pymystem3

![main](pics/main.jpg)

**Задача:** По имеющимся данным сервиса Яндекс.Недвижимость нужно научиться определять рыночную стоимость объектов недвижимости. Задача — установить параметры. Это позволит построить автоматизированную систему: она отследит аномалии и мошенническую деятельность. 

**План реализации проекта:**
1. Импорт библиотек. Загрузка данных
2. Предобработка данных
3. Анализ данныз
4. Выводы по результатам анализа

## Реализация проекта

### Импорт библиотек. Загрузка данных

Имеем данные вида:

![pic1](pics/pic1.png)

Всего в нашем распоряжении датасет из 23699 строк и 22 параметров. Многие параметры имеют большое количество пропусков и тип данных несоответствующий содержимому.

### Предобработка данных

Анализируем и обрабатываем каждый раздел отдельно.

**Промежуточные выводы:**

- Более 40% объявлений не имеют данных о высоте потолка. Это много. При этом, любая недвижимость имеет этот параметр
- Имеем 23 квартиры с высотой потолка более 20 метров . Скорее всего, люди просто допустили опечатку, поставив разделитель в другом месте. Передвинув запятую, получим адекватный метраж - 2.5, 2.7 и т.д. Исправляем выстоту потолка и включим объявления в общую статистику

Найдем связь между ценой квартиры и высотой ее потолка:
![pic2](pics/pic2.png)

Здесь невооруженным вглядом видна искомая нами корреляция до значений высоты потолка ~ 3,2м. Дальше появляется сильный разброс. 

Посмотрим на распределение этажности:

![pic3](pics/pic3.png)

Ожидаемый пик на 5-ке. Это объясняется большим количеством панельных хрущевок расположенных как по всей России в целом, так и в Ленинградской области в частности. Чуть меньший пик на 9-ке скорее всего соответствует более поздним постройкам, в основном "брежневкам". График уползает вправо характеризуя бурный рост современных многоэтажных комплексов. В целом, 2 выделяющихся пика - это в основном дома типовой застройки советсткого периода. 

Посмотрим на распределение площади квартир:

![pic4](pics/pic4.png)

Больше всего квартир общей жилой площадью 18-20м2 и около 30м2 т.н. "студий".

Изучим параметр "Площадь кухни"

![pic5](pics/pic5.png)

Согласно СНИП 31-01-2003 минимальный размер площади кухни - 6м2 для 1-ком. квартиры и 8м2 для 2-ком. квартиры и выше. Судя по графику, в датасете есть и совсем крошечные площади менее 5 м2.




 ### Анализ данных
 Перед нами стоял ряд вопросов, на которые нужно было ответить в результате исследования:
 
Вопрос: *Есть ли зависимость между наличием детей и возвратом кредита в срок?*

Ответ: ***Вероятность своевременного возврата кредита у группы "без детей" выше на 1,7% чем у группы "с детьми". Разница не очень большая, не бросается в глаза. Поэтому, без стат.тестов однозначно ответить на этот вопрос сложно. Наиболее всероятно, что зависимости нет.***

Вопрос: *Есть ли зависимость между семейным положением и возвратом кредита в срок?*

Ответ: ***Мы видим, что больше всего должников в категории "Не женат / не замужем". Совсем рядом и люди из категории "гражданский брак". Самое минимальное количество должников в категории "вдовец / вдова". 
Есть ли зависимость между семейным положением и возвратом кредита в срок? Да, есть. Но совсем небольшая и, скорее, косвенная. Дело в том, что доля молодых людей в категории 4 и 1 выше, чем в категориях 0, 2, 3. А это, в свою очередь, означает чуть большую легкомысленность в принятии решений, меньший уровень дохода, меньшую стабильность жизни в целом. Эти факты уже напрямую влияют на вероятность возврата кредита в срок. Хотя, различия тоже в несколько процентных пунктов не позволяют ничего однозначно утверждать.***

Вопрос: *Как разные цели кредита влияют на его возврат в срок?*

Ответ: ***Разница настолько небольшая и в этом случае, что нельзя выделить какую-то определенную категорию и сделать выводы. В целом, такая разница в данных может быть обусловлена способом сбора данных. Или особых банковских условий для тех или иных целей потребительского кредита. Чаще всего, все эти цели присутствуют в качестве жизненных эпапов большинства людей. Поэтому, вероятность возврата кредита в срок зависит больше не от его целей, а от самого заемщика.***

### Общий вывод:
В целом, серьезной зависимости каких-либо категорий с возвратом кредита в срок не выявлено. Да, есть небольшая разница по каждой из проанализированных групп. Возможно, для более точной оценки потенциального заемщика нужно пользоваться совокупностью различных данных вместе. А уже оттуда выводить итоговую вероятность. Оценка потенциального заемщика только по одному из параметров может привести к ошибочному результату.

Вероятно, чтобы лучше оценивать добросовестность лиц подавших заявление на кредит, нам нужно знать больше данных. Особенно важными могут оказаться данные о предыдущем опыте кредитования человека (количество просроченных платежей / вернул ли в срок и др.). А такие общесоциальные параметры как количество детей, цели кредита и пр. практически не несут информации полезной для определения порядочности заемщика.


 

